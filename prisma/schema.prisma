generator client {
  provider = "prisma-client-js"
}

datasource db {
  provider     = "mysql"
  url          = env("DATABASE_URL")
  relationMode = "prisma"
}

model User {
  id            String   @id @default(uuid())
  userName      String   @unique
  createdAt     DateTime @default(now())
  updatedAt     DateTime @updatedAt
  clerkId       String   @unique
  email         String   @unique
  isPro         Boolean  @default(false)
  accuracy      Float    @default(0.0)
  completed     Int      @default(0)
  last          Int      @default(-1)
  dailyStreak   Int      @default(0)
  longestStreak Int      @default(0)
  verses        Verse[]
}

model Verse {
  userId      String
  verseId     Int
  chapterId   Int
  isCompleted Boolean
  user        User    @relation(fields: [userId], references: [id])

  @@unique([userId, verseId, chapterId])
}
